{% extends "layouts/base.html" %}

{% block title %} Tables {% endblock %} 

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

  <div class="content">

    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        {% for category, message in messages %}

          {% if category == "exito" %}
            <div class="alert alert-success alert-dismissible fade show">
              <button type="button" aria-hidden="true" class="close" data-dismiss="alert" aria-label="Close">
                <i class="nc-icon nc-simple-remove"></i>
              </button>
              <span><b>Correcto: </b>{{ message }}</span>
            </div>
          {% endif %}

          {% if category == "error" %}
            <div class="alert alert-danger alert-dismissible fade show">
              <button type="button" aria-hidden="true"  class="close" data-dismiss="alert" aria-label="Close">
                <i class="nc-icon nc-simple-remove"></i>
              </button>
              <span><b>Error: </b>{{ message }}</span>
            </div>
          {% endif %}

          {% if category == "advertencia" %}
            <div class="alert alert-warning alert-dismissible fade show">
              <button type="button" aria-hidden="true" class="close" data-dismiss="alert" aria-label="Close">
                <i class="nc-icon nc-simple-remove"></i>
              </button>
              <span><b>Advertencia: </b> {{ message }}</span>
            </div>
          {% endif %}

        {% endfor %}
      {% endif %}
    {% endwith %}


    <div class="row" id="divCatastroClientes">
       <div class="col-md-12">
        <div class="card card-user">

          <div class="card-header">
            <h5 class="card-title">Cargar catastros</h5>
          </div>

          <div class="card-body">

              <form method="post" enctype="multipart/form-data">
                  {{ params[0].hidden_tag() }}
                  <div class="row">

                      <div class="col-md-5 pr-1">
                          <h6>Cargar catastro clientes (.CSV)</h6>
                          {{ params[0].archivoCliente(class_='btn') }}
                        </div>
                  </div>

                  </br>

                  <div class="row">

                      <div class="col-md-5 pr-1">
                          <h6>Cargar catastro histórico de consumos (.CSV)</h6>
                          {{ params[0].archivoHistorialConsumos(class_='btn') }}
                        </div>
                  </div>

                  </br>

                  <div class="row">

                      <div class="col-md-5 pr-1">
                        <h6>Cargar catastro órdenes (.CSV)</h6>
                          {{ params[0].archivoOrden(class_='btn') }}
                        </div>
                  </div>

                  </br>

                  <div class="row">

                      <div class="col-md-5 pr-1">
                        <h6>Cargar catastro marcas de medidores (.CSV)</h6>
                          {{ params[0].archivoMarcasMedidores(class_='btn') }}
                        </div>
                  </div>


                  </br>

                  {{ params[0].cargar(class_='btn btn-primary') }}

              </form>





          </div>



       </div>
    </div>

    </div>

  </div>

{% endblock content %}

<!-- Specific Page JS goes HERE  -->
{% block javascripts %}
<script>

  function activarDiv(div){
    document.getElementById("divCatastroClientes").style.display = "none"
    document.getElementById("divCrearGrupoRevisor").style.display = "none"
    document.getElementById("divCrearRevisor").style.display = "none"

    document.getElementById(div).style.display = "block"

  }

  function showNotification(from, align) {
    color = 'primary';

    $.notify({
      icon: "nc-icon nc-bell-55",
      message: "Cambios guardados <b>correctamente</b>"

    }, {
      type: color,
      timer: 1000,
      placement: {
        from: from,
        align: align
      }
    });
  }


</script>

{% endblock javascripts %}
